<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<!-- saved from url=(0087)http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_QuickReference.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  
  <title>Parallel IT - Parallel Iterator, Parallel Task and Pyjama</title>

  
  
  <link rel="icon" type="image/png" href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/themes/default/images/common/symbol_icon.png">

  
  <link rel="stylesheet" href="./PT_QuickReference_files/style.css" type="text/css">

  
  <link rel="stylesheet" href="./PT_QuickReference_files/text.css" type="text/css">

</head><body>
<!-- Container Divider Start -->
<div id="Container"><!-- Header Divider Start -->
<div id="Header">
<div id="ParallelITLogo"> <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/index.html"><img src="./PT_QuickReference_files/ParallelIT.png" alt="ParallelIT"></a></div>
<div id="UOALogo"> <a href="http://www.auckland.ac.nz/"><img src="./PT_QuickReference_files/UOA_Logo_RGB_small.jpg" alt="University of Auckland"></a> </div>
<div> <a id="ParallelResearchGroupLogo" href="http://www.ece.auckland.ac.nz/~parallel"><img src="./PT_QuickReference_files/PRCL.png" alt="Parallel and Reconfigurable Computing Lab"></a> </div>
<!-- Header Divider End --> </div>
<!-- SectionMenu Start -->
<div id="SectionMenu"><!-- SuckerfishMenu Start -->
				<ul class="SuckerfishMenu">
					<li>
						<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/index.html">Home</a>
					</li>
					<li>
						<a href="">Parallel Task</a>
						<ul>
							<li>
								<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_About.html">About</a>
								<br>
							</li>
							<li>
								<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_Download.html">Download</a>
								<br>
							</li>
							<li>
								<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_EclipsePlugin.html">Eclipse Plug-In</a>
								<br>
							</li>
							<li>
								<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_Documentation.html">Documentation</a>
								<br>
							</li>
							<li>
								<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_Examples.html">Examples</a>
								<br>
							</li>
							<li>
								<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_ScreenShot.html">Screenshots</a>
								<br>
							</li>
						</ul>
					</li>
					<li>
						<a href="">Parallel Iterator</a>
						<ul>
							<li>
								<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PI_About.html">About</a>
								<br>
							</li>
							<li>
								<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PI_Download.html">Download</a>
								<br>
							</li>
							<li>
								<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PI_Documentation.html">Documentation</a>
								<br>
							</li>
							<li>
								<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PI_Examples.html">Examples</a>
								<br>
							</li>
							<li>
								<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PI_ScreenShot.html">Screenshots</a>
								<br>
							</li>
						</ul>
					</li>
					<li>
						<a href="">Pyjama</a>
						<ul>
							<li>
								<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PJ_About.html">About</a>
								<br>
							</li>
							<li>
								<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PJ_Download.html">Download</a>
								<br>
							</li>
							<li>
								<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PJ_EclipsePlugin.html">Eclipse Plug-In</a>
								<br>
							</li>
							<li>
								<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PJ_Documentation.html">Documentation</a>
								<br>
							</li>
							<li>
								<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PJ_Examples.html">Examples</a>
								<br>
							</li>
							<li>
								<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PJ_ScreenShot.html">Screenshots</a>
								<br>
							</li>
						</ul>
					</li>
					<li>
						<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/Publications.html">Publications</a>
					</li>
					<li>
						<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/People.html">People</a>
					</li>
					<li>
						<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/Contact.html">Contact</a>
					</li>
					<!-- SuckerfishMenu End -->
				</ul>
<!--SectionMenu End --> </div>
<!--Content Divider Start-->
<div id="Content">
<div id="ArchiveWrap">
<h2>Parallel Task - Quick Reference Guide</h2>
<hr> This guide serves as a quick reference for the features
supported by Parallel Task, including the new keywords, the syntax to
use and the most important library functions you will probably use. <br>
<h4>Keywords</h4>
<p class="Indent"><span style="font-style: italic; text-decoration: underline;">Keywords for a
Task declaration:</span><br>
</p>
<ul>
  <ul>
    <li>TASK</li>
    <li>TASK(*)</li>
    <li>IO_TASK</li>
    <li>IO_TASK(*)</li>
  </ul>
</ul>
<p class="Indent">
</p>
<p class="Indent"><span style="text-decoration: underline; font-style: italic;">Keywords for a
Task invocation:</span><br>
</p>
<ul>
  <ul>
    <li>dependsOn</li>
    <li>notify</li>
    <li>notifyInterim</li>
    <li>asyncCatch</li>
  </ul>
</ul>
<h4><br>
</h4>
<h4>Important library functions</h4>
<br>
For a complete list of the runtime classes and
methods, <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/index.html">browse the API docs</a>. But for
starters, the most common classes that you will make use of include <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/ParaTask.html">ParaTask</a>, <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/CurrentTask.html">CurrentTask</a>, <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/TaskID.html">TaskID</a> and <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/TaskIDGroup.html">TaskIDGroup</a>:<br>
<br>
<span style="font-style: italic; text-decoration: underline;"><br>
</span><span style="font-style: italic;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; Setting the ParaTask
runtime environment:</span></span><br>
<ul>
  <li><a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/ParaTask.html#init%28%29"><span style="font-weight: bold;">ParaTask.init()</span></a> is the only
compulsory method to use, and should be called once at the beginning of
the main() method in your application to initialise the runtime.<br>
  </li>
  <li>To change the default scheduling policy, see <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/ParaTask.html#setScheduling%28paratask.runtime.ParaTask.ScheduleType%29">ParaTask.setScheduling(ScheduleType)</a>
and/or <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/ParaTask.html#setThreadPoolSize%28int%29">ParaTask.setThreadPoolSize(int)</a></li>
</ul>
<br>
<br>
<span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; </span><span style="font-style: italic; font-weight: bold;">Working from <span style="text-decoration: underline;">inside</span> a task:</span><br>
<ul>
  <li>If you are "inside" a task and want to inquire certain
information, have a look at the <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/CurrentTask.html">CurrentTask</a>
class. Some of
the useful functions include:</li>
</ul>
<ul>
  <ul>
    <li><a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/CurrentTask.html#globalID%28%29">CurrentTask.globalID()</a>
to determine the current task's unique identifier</li>
    <li><a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/CurrentTask.html#insideTask%28%29">CurrentTask.insideTask()</a>
to determine whether the current code segment is actually being
executed as a task or as a standard sequential method, e.g. <br>
    </li>
  </ul>
</ul>
<div style="margin-left: 80px;">TASK public int parallel() {<br>
&nbsp;&nbsp;&nbsp; return sequential();<br>
}<br>
<br>
public int sequential() {<br>
&nbsp;&nbsp;&nbsp; ...<br>
&nbsp;&nbsp;&nbsp; if (CurrentTask.insideTask()) {<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; // this is being executed as a task<br>
&nbsp;&nbsp;&nbsp; } else {<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; // this is being executed as a standard
sequential method<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; ...<br>
}<br>
</div>
<ul>
  <ul>
    <li>plus many more methods, categorised below into their respective
topic...<br>
    </li>
  </ul>
</ul>
<span style="font-weight: bold;"> </span><span style="font-style: italic; font-weight: bold;">&nbsp;&nbsp;&nbsp; <br>
<br>
&nbsp;&nbsp;&nbsp; Working from <span style="text-decoration: underline;">outside</span> a task:</span><br>
<ul>
  <li>While CurrentTask contained methods to be invoked while inside a
task, there is usually an equivalent method that may be invoked on a <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/TaskID.html">TaskID</a> instance (i.e.
for code "outside"
the task). Some of these are categorised in the topics below, while
others include:</li>
  <ul>
    <li><a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/TaskID.html#getReturnResult%28%29">getReturnResult()</a>
to access the return value from executing the task</li>
    <li><a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/TaskID.html#waitTillFinished%28%29">waitTillFinished()</a>
to cause the current thread to wait until the task completes</li>
    <li><a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/TaskID.html#getTaskArguments%28%29">getTaskArguments()</a>
if you want to access the original parameter values that were passed to
the task</li>
    <li><a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/TaskID.html#isInteractive%28%29">isInteractive()</a>
or <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/TaskID.html#isMultiTask%28%29">isMultiTask()</a>
to check whether the task is an I/O task or multi-task
respectively<br>
    </li>
  </ul>
</ul>
<br>
<br>
&nbsp;&nbsp;&nbsp; <span style="font-style: italic;"><span style="font-weight: bold;">Task progress</span></span><span style="font-weight: bold;"><span style="font-style: italic; font-weight: bold;">:</span><br>
</span><span style="font-weight: bold;">
<ul>
  <li><span style="font-weight: normal;">A task may update its progress
using <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/CurrentTask.html#setProgress%28int%29">CurrentTask.setProgress(int)</a></span></li>
  <li><span style="font-weight: normal;">Listeners interested in a
task's progress use <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/TaskID.html#getProgress%28%29">getProgress()</a>
on the task's respective TaskID.&nbsp;</span></li>
  <li><span style="font-weight: normal;">TIP: Updating the task's
progress does not automatically notify the listeners, so you will most
likely want to use the publish an intermediate result (or a "dummy"
result) to notify the listeners of the task's updated progress.<br>
    </span></li>
</ul>
<span style="font-style: italic; font-weight: bold;">
</span></span><br>
<br>
&nbsp;&nbsp;&nbsp; <span style="font-weight: bold;"><span style="font-style: italic; font-weight: bold;">Canceling tasks:</span><br>
</span><span style="font-weight: bold;">
<ul>
  <li><span style="font-weight: normal;">Tasks
cannot be canceled abruptly. Instead, a cancel request must be sent to
the task (via it's TaskID instance). If that task has not started
executing yet,
then it won't be executed. If it already has started executing, then
the task must actively check whether a request has been made (and
gracefully cancel on its own terms):<br>
    </span></li>
  <ul>
    <li><span style="font-weight: normal;">To attempt to cancel a task,
invoke <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/TaskID.html#cancelAttempt%28%29">cancelAttempt()</a>
on the </span><span style="font-weight: bold;"><span style="font-weight: normal;"> task's respective TaskID. </span></span></li>
  </ul>
  <ul>
    <li><span style="font-weight: normal;">For the cancel attempt to
have any effect, the task should periodically call <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/CurrentTask.html#cancelRequested%28%29">CurrentTask.
cancelRequested()</a> to check if a request has been made. If so, then
the task would take the necessary steps to clean up and end the
computation.</span></li>
  </ul>
</ul>
<span style="font-style: italic; font-weight: bold;"><br>
<br>
&nbsp;&nbsp;&nbsp; Working with multi-tasks:</span><br>
</span>
<ul>
  <li>To define a multi-task, annotate a method
declaration with either <span style="font-weight: bold;">TASK(*)</span>
or <span style="font-weight: bold;">IO_TASK(*)</span>. By
default, this creates a sub-task for
each worker thread.</li>
  <ul>
    <li>Alternatively, instead of using '*', you may
use an integer
literal or interger variable to create a different sized multi-task..
e.g. <span style="font-weight: bold;">TASK(myInt)</span>&nbsp;
or&nbsp; <span style="font-weight: bold;">IO_TASK(2)</span><br>
    </li>
  </ul>
  <li>A invocation of a multi-task is like a standard
task invocation,
except that a <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/TaskIDGroup.html">TaskIDGroup</a>
is returned.<br>
  </li>
  <li>From inside the multi-task, inquire to see how many siblings
(i.e. total number of sub-tasks) there are for the multi-task by
calling <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/CurrentTask.html#multiTaskSize%28%29">CurrentTask.multiTaskSize()</a>.<br>
  </li>
  <li>Similarly, a sub-task may inquire on its respective position in
the multi-task group relative to its siblings using <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/CurrentTask.html#relativeID%28%29">CurrentTask.relativeID()</a>.</li>
  <li>Each multi-task has a barrier allowing it to synchronise with its
siblings, achieved by calling <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/CurrentTask.html#barrier%28%29">CurrentTask.barrier()</a>.</li>
  <li>If the multi-task returns a result, you may access individual
results using <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/TaskIDGroup.html#getInnerTaskResult%28int%29">getInnerTaskResult(int)</a>
or perform a reduction to return a single result using <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/TaskIDGroup.html#getReturnResult%28paratask.runtime.Reduction%29">getReturnResult(Reduction)</a>.<br>
  </li>
  <li>TIP: remember that multi-tasks are also tasks.. you may therefore
use all the other features discussed!</li>
</ul>
&nbsp; <span style="font-weight: bold;"><span style="font-weight: bold;"><span style="font-style: italic; font-weight: bold;"><br>
</span></span><span style="font-style: italic; font-weight: bold;"><span style="font-weight: bold;"><span style="font-style: italic; font-weight: bold;"><br>
&nbsp;&nbsp;&nbsp; Task dependences<br>
</span></span></span></span>
<ul>
  <li>Sometimes you want to invoke a task, but don't want it to start
executing until a previous task has completed. You may specify this
dependency with the <span style="font-weight: bold;">dependsOn</span>
keyword.
The variables inside the dependsOn clause must be TaskIDs or
TaskIDGroups (and you may specify as many of each as you want)&nbsp;
e.g. <br>
  </li>
</ul>
<div style="margin-left: 80px;">TaskIDGroup grp = new TaskIDGroip(2);<br>
<br>
TaskID id1 = firstTask();<br>
TaskID id2 = secondTask();<br>
grp.add(id1);<br>
grp.add(id2);<br>
TaskID id3 = thirdTask();<br>
<br>
TaskID id = finalTask() dependsOn(grp, id3);<br>
</div>
<ul>
  <li>A new way of specifying dependences is to pass a TaskID&lt;T&gt;
    directly to a method that expects a parameter of type T. This signals to
    the compiler that the method is to be called once the first task completes
    with the <i>return value</i> of this TaskID as the parameter. In other words,
    the following two blocks of code are equivalent:
  </li>
</ul>
<div style="margin-left: 80px;">
TASK public int firstTask() {<br>
&nbsp;&nbsp;&nbsp; return something();<br>
}<br>
TASK public void secondTask(TaskID&lt;Integer&gt; id) {<br>
&nbsp;&nbsp;&nbsp; System.out.println(id.getReturnResult());<br>
}<br>
<br>
TaskID id1 = firstTask();<br>
TaskID id2 = secondTask(id1) dependsOn(id1);<br>
<br>
// can be shortened to<br>
<br>
TASK public int firstTask() {<br>
&nbsp;&nbsp;&nbsp; return something();<br>
}<br>
TASK public void secondTask(int value) {<br>
&nbsp;&nbsp;&nbsp; System.out.println(value);<br>
}<br>
<br>
TaskID id1 = firstTask();<br>
TaskID id2 = secondTask(id1);<br>
</div>
<span style="font-weight: bold;"><span style="font-style: italic; font-weight: bold;"><span style="font-weight: bold;">
</span><br>
<span style="font-weight: bold;"><span style="font-style: italic; font-weight: bold;"><br>
&nbsp;&nbsp;&nbsp; Non-blocking task completion:</span><br>
</span></span></span>
<ul>
  <li>If you don't want to block on the TaskID until the task completes
(especially important for event processing threads), then you may use
one of the non-blocking clauses. <br>
  </li>
  <ul>
    <li><span style="font-weight: bold;">notify</span>, the method(s)
inside the clause are executed back to the enqueing thread, e.g.<br>
    </li>
  </ul>
</ul>
<div style="margin-left: 80px;">TaskID id = myTask() notify(
taskCompleted(TaskID) );<br>
</div>
<ul>
  <ul>
    <li><span style="font-weight: bold;">notify</span>, the methods
inside the clause are executed by the GUI thread (Event Dispatch
Thread), regardless of the enqueuing thread, e.g.</li>
  </ul>
</ul>
<div style="margin-left: 80px;">TaskID id = myTask() notify(
taskCompleted(TaskID), myGUIComponent::update() );<br>
</div>
<ul>
  <li>TIPS:</li>
  <ul>
    <li>If you don't specify an object instance, then <span style="font-weight: bold;">this</span> is used. Otherwise, you may
specify another instance object to invoke the method on using the
format <span style="font-style: italic;">instance::method</span> as in
the example above.<br>
    </li>
    <li>You may specify any number of methods in the notify
clause, no need to put them all in one method. <br>
    </li>
    <li>The methods you register in the clauses must either accept a
TaskID as parameter, or nothing at all. The TaskID parameter will
always refer to the task that just completed.</li>
  </ul>
</ul>
<span style="font-weight: bold;"><span style="font-style: italic; font-weight: bold;"><span style="font-weight: bold;"><br>
</span>
<br>
&nbsp;&nbsp;&nbsp; <span style="font-style: italic;"><span style="font-weight: bold;">Intermediate results</span></span><span style="font-weight: bold;"><span style="font-style: italic; font-weight: bold;">:</span><br>
</span></span></span>
<ul>
  <li>When a task wants to publish an intermediate result, it may do so
using <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/CurrentTask.html#publishInterim%28E%29">CurrentTask.publishInterim(E)</a></li>
  <li>To have any effect, there must be registered methods (using <span style="font-weight: bold;">notifyInterim</span>). The parameter
list of those methods must be (TaskID, E) in that order, where:</li>
  <ul>
    <li>The <span style="font-style: italic;">TaskID</span> instance
will represent the task that published the intermediate result, and</li>
    <li><span style="font-style: italic;">E</span> will represent the
actual intermediate result.</li>
  </ul>
  <li>TIPS:</li>
  <ul>
    <li>Just before publishing the result, the task could update it's
progress (i.e. <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/CurrentTask.html#setProgress%28int%29">CurrentTask.setProgress(int)</a>),
and then the method would
be able to read the task's progress using <a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/TaskID.html#getProgress%28%29">getProgress()</a>
on the TaskID
instance.</li>
    <li>The <span style="font-style: italic;">notifyInterim</span> is
similar to <span style="font-style: italic;">notify</span>. The difference is that
an extra parameter is added to the methods (i.e. the <span style="font-style: italic;">E</span>), and the methods are only
executed when/if the task decides to publish a result. <br>
      <br>
      <br>
    </li>
  </ul>
</ul>
<span style="font-style: italic; font-weight: bold;">&nbsp;&nbsp;&nbsp;
Exception handling<br>
</span>
<ul>
  <li>Some tasks, like standard methods, might throw exceptions. If
these exceptions are <span style="font-style: italic;">checked
exceptions</span>, then the programmer must adhere to Java's Catch or
Specify Requirement and use the <span style="font-weight: bold;">asyncCatch</span>
clause, e.g.</li>
</ul>
<div style="margin-left: 80px;">TASK public void process(File file)
throws IOException {<br>
&nbsp;&nbsp;&nbsp; ...<br>
}<br>
<br>
TaskID id = process(file) asyncCatch(&nbsp;
IOException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
fileHandler(TaskID), <br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
RuntimeException&nbsp; myHandler(TaskID),<br>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;Exception
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; endProgram() ); <br>
</div>
<span style="font-weight: bold;"><span style="font-style: italic; font-weight: bold;"><span style="font-weight: bold;">
</span></span></span>
<ul>
  <li>In the above example, we MUST use asyncCatch to catch the checked
exception (IOException). We decided to also use it to catch any other
non-checked exceptions (i.e. optional usage). Similar to the <span style="font-style: italic;">notify</span> clause, the methods inside
the asyncCatch clause will be executed by the enqueuing thread. <br>
  </li>
  <li>Below is an example of an exception handler<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/TaskID.html#getException%28%29">:</a></li>
</ul>
<div style="margin-left: 80px;">public
void fileHandler(TaskID id) {<br>
&nbsp;&nbsp;&nbsp; Exception e = id.<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/TaskID.html#getException%28%29">getException()</a>;<br>
&nbsp;&nbsp;&nbsp; Object[] args = id.<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/TaskID.html#getTaskArguments%28%29">getTaskArguments()</a>;<br>
&nbsp;&nbsp;&nbsp; File f = (File) args[0];<br>
&nbsp;&nbsp;&nbsp; System.err.println("Problem processing task "+id.<a href="http://homepages.engineering.auckland.ac.nz/~parallel/ParallelIT/PT_API/paratask/runtime/TaskID.html#getTaskName%28%29">getTaskName()</a>+"
with file "+f.getName());<br>
&nbsp;&nbsp;&nbsp; e.printStackTrace();<br>
}<br>
</div>
<span style="font-weight: bold;"><span style="font-style: italic; font-weight: bold;"><span style="font-weight: bold;"><span style="font-style: italic; font-weight: bold;">
<br>
</span></span></span></span>
<span style="font-style: italic; font-weight: bold;">&nbsp;&nbsp;&nbsp;
Pipelines<br>
</span>
<ul>
  <li>Pipelines are useful in situations where data arrives in a streamed format,
    such as data over a network or data that is too large to all fit in memory at once.
    Tasks can be converted to efficiently loop on independent threads as pipeline stages instead of
    as one-off tasks by passing a BlockingQueue&lt;T&gt; in place of a parameter that
    expects a value of type T.
  </li>
</ul>
<div style="margin-left: 80px;">
TASK public Image blur(Image input) {<br>
&nbsp;&nbsp;&nbsp; Image blurred = ...;<br>
&nbsp;&nbsp;&nbsp; return blurred;<br>
}<br>
<br>
TASK public Image filter(Image input) {<br>
&nbsp;&nbsp;&nbsp; Image filtered = ...;<br>
&nbsp;&nbsp;&nbsp; return filtered;<br>
}<br>
<br>
TASK public Image resize(Image input) {<br>
&nbsp;&nbsp;&nbsp; Image resized = ...;<br>
&nbsp;&nbsp;&nbsp; return resized;<br>
}<br>
<br>
BlockingQueue&lt;Image&gt; input = new LinkedBlockingQueue&lt;&gt;();<br>
TaskID&lt;Image&gt; stage1 = blur(input);<br>
TaskID&lt;Image&gt; stage2 = filter(stage1);<br>
TaskID&lt;Image&gt; stage3 = resize(stage2);<br>
<br>
//...<br>
<br>
input.put(image1);<br>
input.put(image2);<br>
input.put(image3);<br>
<br>
//...<br>
<br>
BlockingQueue&lt;Image&gt; output = stage3.getOutputQueue();<br>
Image out1 = output.take();<br>
Image out2 = output.take();<br>
Image out3 = output.take();<br>
<br>
//...<br>
<br>
stage1.cancelAttempt(); // flows down through all stages<br>
<br>
</div>

</div>
<!--Content Divider End--> </div>
<!-- Container Divider End --> </div>

<!-- Footer Divider Start-->
<div id="Footer"><!-- Footer Divider End--> </div>
<!-- Start of StatCounter Code -->
<script type="text/javascript">
var sc_project=6286367; 
var sc_invisible=1; 
var sc_security="db5e740d"; 
</script>

<script type="text/javascript" src="./PT_QuickReference_files/counter.js"></script><noscript>&lt;div
class="statcounter"&gt;&lt;a title="hits counter"
href="http://statcounter.com/free_hit_counter.html"
target="_blank"&gt;&lt;img class="statcounter"
src="http://c.statcounter.com/6286367/0/db5e740d/1/"
alt="hits counter" &gt;&lt;/a&gt;&lt;/div&gt;</noscript>
<!-- End of StatCounter Code -->
</body></html>